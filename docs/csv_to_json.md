# CSV to JSON Transformation

[[Overview]](#overview)  [[Operation details]](#operation-details)  [[Sample configuration]](#sample-configuration)

### Overview 

You can use the csvToJson operation to transform a CSV payload in to a JSON payload.

### Operation details

**Properties**
* headerPresent (Header): 
Specify whether the CSV input has a header row. Accepting **Absent** or **Present** as values. 
The Default value is **Absent**. 
* valueSeparator (Separator): 
The separator to use in the CSV input. Default is the `,` (comma).
* skipHeader (Skip Headers): Skip the header row or not in the output CSV. 
This accepts **true** or **false** as values. The Default is false. This property is available only if the
 `headerPresent` property is set to `Present`.
* columnsToSkip (Skip Columns): 
Specify columns to skip from the CSV payload. You can specify columns as comma-separated values. 
This supports more complex queries also, you can find full specifications here.
* dataRowsToSkip (Skip Data Rows): 
Number of data rows to skip. The Default is 0. 
    * If `headerPresent` is `Present` then data rows are the rows excluding the first row. 
    * If `headerPresent` is `Absent` then data rows are the rows starting from the first row.
* csvEmptyValues (Empty Values):
Specify how to treat empty CSV values in the output JSON.
* jsonKeys (JSON Keys): 
If you need set custom keys in the JSON output, specify JSON keys in this property.
Use set of comma separated strings as JSON keys. (eg: name,email).
If this property is not specified, JSON keys of the output is determined as follows,
    * If value of the `headerPresent` is `Absent` , JSON keys would be autogenerated (eg: key-1, key-2).
    * If value of the `headerPresent` is `Present`, CSV header values would use as the JSON keys.
dataTypes (Data Types) : 
This property represents the data types of JSON fields. This property accepts a JSON string containing details of
 data types.
* rootJsonKey (Root JSON Key):
If you need to wrap the JSON output inside a wrapper object, specify the key for the wrapper object.


### Sample configuration

**Sample request**

Following is a sample CSV request that can be handled by the csvToCsv operation.

```text
id,name,email,phone_number
1,De witt Hambidge,dwitt0@newsvine.com,true
2,Brody Dowthwaite,bdowthwaite1@delicious.com,false
3,Catlin Drought,cdrought2@etsy.com,608-510-7991
4,Kissiah Douglass,kdouglass3@squarespace.com,true
5,Robinette Udey,rudey4@nytimes.com,true
```
**Sample Configuration**

Given below is a sample configuration for the csvToCsv operation.
```xml
<CSV.csvToCsv>
    <headerPresent>Present</headerPresent>
    <skipHeader>true</skipHeader>
    <dataRowsToSkip>1</dataRowsToSkip>
    <orderByColumn>2</orderByColumn>
    <columnOrdering>Ascending</columnOrdering>
    <columnsToSkip>"phone_number"</columnsToSkip>
    <customHeader>index,name,email</customHeader>
</CSV.csvToCsv>
```
**Sample response**

Following is a sample response from the operation.

```text
index,name,email
2,Brody Dowthwaite,bdowthwaite1@delicious.com
3,Catlin Drought,cdrought2@etsy.com
4,Kissiah Douglass,kdouglass3@squarespace.com
5,Robinette Udey,rudey4@nytimes.com
```
